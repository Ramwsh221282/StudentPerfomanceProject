<div id="container">
  <div id="header">
    <div class="header-container">
      <strong>Статистика по кафедрам</strong>
    </div>
  </div>
  <div id="content">
    <div class="row-container">
      <strong>Средний балл: {{ report.average }}</strong>
      <strong>Успеваемость: {{ report.perfomance }}</strong>
    </div>
    <div class="search-container">
      <table class="search-table">
        <thead>
        <tr>
          <th>Кафедра</th>
          <th>% успеваемости</th>
          <th>Средний балл</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
          @for (part of report.parts; track part.departmentName) {
            <tr>
              <td>{{ part.departmentName }}</td>
              <td>{{ part.perfomance }}</td>
              <td>{{ part.average }}</td>
              <td>
                <button class="accept-button-outline"
                        (click)="selectedDepartment = part; isTeachersReportVisible = true">Преподаватели
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
  <div id="controls">
    <button
      class="danger-button-modal"
      type="button"
      (click)="visibility.emit()"
    >
      Закрыть окно
    </button>
  </div>
</div>
<div id="teacher-report-modal-renderer" *ngIf="isTeachersReportVisible">
  <app-teachers-report [report]="selectedDepartment.parts"
                       (visibility)="isTeachersReportVisible = false"></app-teachers-report>
</div>
