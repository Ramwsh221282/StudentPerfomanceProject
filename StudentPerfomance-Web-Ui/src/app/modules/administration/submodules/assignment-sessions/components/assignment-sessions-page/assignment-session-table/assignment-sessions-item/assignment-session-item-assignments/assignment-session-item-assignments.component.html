<div id="container">
  <div id="header">
    <div class="header-container">
      <strong>Ведомость группы {{ week.group.name }}</strong>
    </div>
  </div>
  <div id="content">
    <strong class="font-white"
      >Процент успеваемости: {{ week.averagePerfomancePercent }}</strong
    >
    <strong class="font-white">Средний балл: {{ week.averageMarks }}</strong>
    <table class="search-table">
      <thead>
        <tr>
          <th>{{ week.group.name }}</th>
          @for (discipline of week.assignments; track discipline.discipline) {
          <th>{{ discipline.discipline }}</th>
          }
          <th>% индивидуальной успеваемости</th>
          <th>средний балл</th>
        </tr>
      </thead>
      <tbody>
        @for (student of getStudents(); track student.id) {
        <tr>
          <td>
            {{ student.studentSurname }} {{ student.studentName[0] }}
            {{
              student.studentPatronymic == null
                ? ""
                : student.studentPatronymic[0]
            }}
          </td>
          @for (discipline of week.assignments; track discipline.discipline) {
          <td>{{ getStudentGrade(discipline.discipline, student) }}</td>
          }
          <td>{{ student.studentPerfomance }}</td>
          <td>{{ student.studentAverage }}</td>
        </tr>
        }
        <tr>
          средний балл @for (discipline of week.assignments; track
          discipline.discipline) {
          <td>{{ discipline.assignmentAverage }}</td>
          }
          <td>-</td>
          <td>-</td>
        </tr>
        <tr>
          % успеваемости @for (discipline of week.assignments; track
          discipline.discipline) {
          <td>{{ discipline.assignmentPerfomance }}</td>
          }
          <td>-</td>
          <td>-</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="controls">
    <button
      class="danger-button-modal"
      type="button"
      (click)="visibility.emit()"
    >
      Закрыть окно
    </button>
  </div>
</div>
