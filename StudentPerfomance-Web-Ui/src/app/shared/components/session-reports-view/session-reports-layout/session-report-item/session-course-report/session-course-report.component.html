<div class="navigation-links">
  <a [routerLink]="['/reports']">Отчёты контрольных недель</a>
  <a>Отчет
    за {{ creationDate | date: 'd-M-y' }} {{ completionDate | date: 'd-M-y' }}</a>
</div>
<div class="controls-container">
  <button class="accept-button-modal" (click)="saveAsPdf()">Сохранить в .PDF</button>
</div>
<section class="course-report-content" id="report">
  <div class="report-date-container">
    <strong>Контрольная неделя с {{ creationDate | date: 'd.M.YYYY' }}
      по {{ completionDate | date: 'd.M.YYYY' }}</strong>
  </div>
  <table class="report-table-layout">
    <thead>
    <tr>
      <th>Группа</th>
      <th>Процент успеваемости</th>
      <th>Средний балл</th>
    </tr>
    </thead>
    <tbody>
      @for (group of groupReports; track group.groupName) {
        <tr>
          <td>
            {{ group.groupName }}
          </td>
          <td>{{ group.perfomance }}</td>
          <td>{{ group.average }}</td>
        </tr>
      }
    </tbody>
  </table>
  <table class="report-table-layout">
    <thead>
    <tr>
      <th>Направление</th>
      <th>Процент успеваемости</th>
      <th>Средний балл</th>
    </tr>
    </thead>
    <tbody>
      @for (direction of directionCodeReports; track direction.directionCode) {
        <tr>
          <td>
            {{ direction.directionCode }}
          </td>
          <td>{{ direction.perfomance }}</td>
          <td>{{ direction.average }}</td>
        </tr>
      }
    </tbody>
    <div class="results-container">
      <strong>Общее по филиалу:</strong>
      <strong>Успеваемость - {{ perfomance }}</strong>
      <strong>Средний балл - {{ average }}</strong>
    </div>
  </table>
  <table class="report-table-layout">
    <thead>
    <tr>
      <th>Направление</th>
      <th>Процент успеваемости</th>
      <th>Средний балл</th>
    </tr>
    </thead>
    <tbody>
      @for (type of directionTypeReports; track type.directionType) {
        <tr>
          <td>
            {{ type.directionType }}
          </td>
          <td>{{ type.perfomance }}</td>
          <td>{{ type.average }}</td>
        </tr>
      }
    </tbody>
  </table>
</section>
